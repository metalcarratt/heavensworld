(function(e){function t(t){for(var s,a,o=t[0],l=t[1],c=t[2],p=0,d=[];p<o.length;p++)a=o[p],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,o=1;o<n.length;o++){var l=n[o];0!==i[l]&&(s=!1)}s&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},i={app:0},r=[];function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top"},[n(e.page,{tag:"component",on:{changePage:e.changePage}})],1)},r=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page blue"},[n("heading"),n("message",[e._v("Twenty years on a mountain, isolated from the world. Seeking inspiration from nature and contemplating the mysteries of the universe. After all this time, you have finally grapsed an intial understanding of...")]),n("choices",e._l(e.inspirations,(function(t,s){return n("choice",{key:s,attrs:{name:t.name,blurb:t.blurb},on:{click:function(n){return e.chooseInspiration(t.name)}}})})),1)],1)},o=[],l=(n("4e82"),n("2f62"));s["a"].use(l["a"]);var c,u,p=new l["a"].Store({state:{inspiration:"",disciples:[],fame:5,resources:{stones:0,herbs:{}}}}),d={fame:function(){return p.state.fame},disciples:function(){return p.state.disciples},stones:function(){return p.state.resources.stones},herbs:function(){return p.state.resources.herbs},hasHerbs:function(){for(var e in this.herbs())if(this.herbs()[e]>0)return!0;return!1},getHerbs:function(){var e=[];for(var t in this.herbs())this.herbs()[t]>0&&e.push(t);return e},getHerb:function(e){return this.herbs()[e]},setInspiration:function(e){p.state.inspiration=e},fameUp:function(e){p.state.fame=p.state.fame+e},addDisciple:function(e){p.state.disciples.push(e),console.log("add disciple"),console.log(p.state.disciples)},addStones:function(e){p.state.resources.stones=p.state.resources.stones+e},addHerbs:function(e,t){p.state.resources.herbs[e]?p.state.resources.herbs[e]+=t:s["a"].set(p.state.resources.herbs,e,t)},consumeHerb:function(e){p.state.resources.herbs[e]=p.state.resources.herbs[e]-1},orderedDisciples:function(){return p.state.disciples.sort((function(e,t){return e.compare(t)}))}},f={data:function(){return{inspirations:[{name:"Harmony",blurb:"Achieving balance between all things"},{name:"Righteousness",blurb:"Seeking a life of absolute integrity"},{name:"Integrity",blurb:""},{name:"Passion",blurb:"Life burns like a flame, fierce and fast"}]}},methods:{chooseInspiration:function(e){d.setInspiration(e),this.$emit("changePage","NewFollower")}}},h=f,g=n("2877"),m=Object(g["a"])(h,a,o,!1,null,null,null),v=m.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page yellow"},[n("heading"),n("message",[e._v("Your teaching inspires many. After listening with rapt attention, one young student asks to become your personal disciple. ")]),n("span",{staticClass:"disciples"},[e.follower?n("DiscipleProfile",{attrs:{disciple:e.follower,hideJob:!0}}):e._e()],1),n("message",[e._v('"Master, my name is '+e._s(e.follower.name)+'. Please accept me as your disciple!"')]),n("button",{on:{click:e.accept}},[e._v("Accept")])],1)},_=[],y=(n("99af"),n("2ef0")),w=n.n(y),O=["Male","Female"],S=["Yi","Peng","Dai","Deng","Ren","Sun","Liu","Zou","Jin","Hao","Li","Wang"],x=["Yusheng","Renshu","Shaoqing","Xing","Jianyu"],k=["Hualing","Xia","Lanfen","Luli","Suyin"],C={getGender:function(){return O[w.a.random(0,1)]},getName:function(e){var t=S[w.a.random(0,11)],n="";return"Male"===e?n=x[w.a.random(0,4)]:"Female"===e&&(n=k[w.a.random(0,4)]),"".concat(t," ").concat(n)},getImage:function(e){return"".concat(w.a.lowerCase(e),"-").concat(w.a.random(1,9),".PNG")}},E="stones",M="plants",P="herbs",H={STONES:E,PLANTS:M,HERBS:P},D=n("ade3"),A=(c={},Object(D["a"])(c,H.STONES,"images/icon_mining.png"),Object(D["a"])(c,H.PLANTS,"images/icon_gathering.png"),Object(D["a"])(c,H.HERBS,"images/icon_farming.jpg"),c),T={getIcon:function(e){return A[e]}},R="NONE",I={createDisciple:function(){var e=C.getGender(),t=C.getName(e),n=C.getImage(e);return{name:t,gender:e,image:n,exp:{mining:0,herbs:0},activity:{activity:R,row:-1,cell:-1,target:""},isMining:function(){return this.activity.activity===H.STONES},getJobIcon:function(){return T.getIcon(this.activity.activity)},hasJob:function(){return this.activity.activity!==R},setJob:function(e,t,n,s){this.activity.activity=n,this.activity.row=e,this.activity.cell=t,this.activity.target=s},removeJob:function(){this.activity.activity=R},getJobLocation:function(){return{row:this.activity.row,cell:this.activity.cell}},expUp:function(e,t){this.exp[e]=this.exp[e]+t},compare:function(e){var t=this.activity.activity!==R,n=e.activity.activity!==R;return t&&!n?1:!t&&n?-1:0}}}},j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["profile",e.hoverable?"hoverable":""]},[n("img",{attrs:{src:"images/"+e.disciple.image}}),e.disciple.hasJob()?n("img",{staticClass:"job",attrs:{src:e.disciple.getJobIcon()}}):e._e(),n("label",[e._v(e._s(e.disciple.name))]),e.hideJob?e._e():n("span",[e._v(e._s(e.disciple.job))]),n("span",{staticClass:"role"},[e._v(e._s(e.role))])])},$=[],L={props:["disciple","hoverable","hideJob","role"]},N=L,F=Object(g["a"])(N,j,$,!1,null,null,null),W=F.exports,J={components:{DiscipleProfile:W},data:function(){return{follower:""}},mounted:function(){this.follower=I.createDisciple()},methods:{accept:function(){d.addDisciple(this.follower),this.$emit("changePage","Mountain")}}},G=J,U=Object(g["a"])(G,b,_,!1,null,null,null),B=U.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page green"},[n("heading"),e._l(e.map,(function(t,s){return n("span",{key:s,staticClass:"row"},[e._l(t,(function(t,i){return[n("Cell",{key:i,attrs:{cell:t,selected:e.selected,rindex:s,cindex:i},on:{select:e.select}})]}))],2)})),n("CellDetails",{attrs:{selected:e.selected}}),n("div",{staticClass:"buttons"},[n("img-btn",{attrs:{src:"svg/mountains.png",label:"Back to Hall"},nativeOn:{click:function(t){return e.$emit("changePage","Mountain")}}})],1)],2)},V=[],Y=(n("d81d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"details"},[n("span",{staticClass:"detail"},[n("label",[e._v(e._s(e.getLabel)+" ")]),e.hasStones?[n("span",{staticClass:"special"},[e._v("contains spirit stones")]),e.hasWorker?e._e():n("button",{on:{click:e.mineStones}},[e._v("Mine stones")])]:e._e(),e.hasPlants?[n("span",{staticClass:"special"},[e._v("discovered spirit plants")]),n("button",{on:{click:e.gatherPlants}},[e._v("Gather")])]:e._e(),e.hasSoil?[n("span",{staticClass:"special"},[e._v("has rich soil")]),!e.hasWorker&&e.hasHerbs?n("button",{on:{click:e.plantHerbs}},[e._v("Plant herbs")]):e.hasHerbs?e._e():n("span",{staticClass:"role"},[e._v("No herbs to plant")])]:e._e(),e.isMortalTerritory?n("span",{staticClass:"warning"},[e._v("Mortal territory")]):e._e()],2),e.hasWorker?n("span",{staticClass:"worker detail"},[n("DiscipleProfile",{attrs:{disciple:e.getWorker,hideJob:!0,role:"mining"}}),n("button",{on:{click:e.removeWorker}},[e._v("Remove")])],1):e._e(),e.hasModal?n("AssignWorkerModals",{attrs:{selected:e.selected}}):e._e()],1)}),X=[],Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{ref:"modals"},[e.isShowingModal&&!e.isShowingHerbsModal?n("modal",[e.isShowingStonesModal?n("h3",[e._v("Send who to mine stones?")]):e.isShowingPlantsModal?n("h3",[e._v("Send who to gather plants?")]):e._e(),e._l(e.orderedDisciples,(function(t,s){return n("DiscipleProfile",{key:s,attrs:{disciple:t,hoverable:!0},nativeOn:{click:function(n){return e.sendWorker(t)}}})})),n("button",{on:{click:e.close}},[e._v("Cancel")])],2):e._e(),e.isShowingHerbsModal?n("FarmHerbs",{attrs:{row:e.selected.rowIndex,cell:e.selected.cellIndex},on:{close:e.close}}):e._e()],1)},Z=[],z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[1===e.stage?n("modal",[n("h3",[e._v("Send who to plant herbs?")]),e._l(e.orderedDisciples,(function(t,s){return n("DiscipleProfile",{key:s,attrs:{disciple:t,hoverable:!0},nativeOn:{click:function(n){return e.chooseDisciple(t)}}})})),n("button",{on:{click:e.close}},[e._v("Cancel")])],2):e._e(),2===e.stage?n("modal",[n("h3",[e._v("Plant what herbs?")]),e._l(e.herbs,(function(t,s){return n("Herb",{key:s,attrs:{herb:t,quantity:e.getHerb(e.herbs)},nativeOn:{click:function(n){return e.chooseHerb(t)}}})})),n("button",{on:{click:e.close}},[e._v("Cancel")])],2):e._e()],1)},K=[],ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"herb-profile"},[n("img",{attrs:{src:e.image}}),n("label",[e._v(e._s(e.herb))]),n("span",[e._v("Quantity: "),n("strong",[e._v(e._s(e.quantity))])])])},te=[],ne=(n("a4d3"),n("e01a"),"Fireleaf"),se="Ocean Lily",ie="Violet Flytrap",re=[ne,se,ie],ae=(u={},Object(D["a"])(u,ne,{image:"images/herb_fireleaf.PNG",description:"A firey-red plant that grows in volcanic ash. Can heal poisons."}),Object(D["a"])(u,se,{image:"images/herb_oceanlily.jpg",description:"A lily of the sea embued with potent water energy. Can heal wounds."}),Object(D["a"])(u,ie,{image:"images/herb_violetflytrap.PNG",description:"An alluring plant that emits strange toxins and can incite hallucinations."}),u),oe={FIRELEAF:ne,OCEAN_LILY:se,VIOLET_FLYTRAP:ie,acquireRandomHerb:function(){var e=Math.floor(3*Math.random());return re[e]},getImage:function(e){return ae[e].image},getDescription:function(e){return ae[e].description}},le={props:["herb","quantity"],computed:{image:function(){return oe.getImage(this.herb)}}},ce=le,ue=Object(g["a"])(ce,ee,te,!1,null,null,null),pe=ue.exports,de=[["forest","hill","hill","hill","forest"],["forest","hill","mountain","hill","forest"],["lake","forest","hill","forest","grass"],["forest","grass","forest","grass","farm"],["farm","farm","city","farm","farm"]],fe=[[0,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],he=[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,0],[0,1,0,0,0],[0,0,0,0,0]],ge=[[0,0,0,0,0],[0,0,0,1,0],[0,1,0,1,0],[0,0,0,0,0],[0,0,0,0,0]],me=[["","","","",""],["","","Hall","",""],["","","","",""],["","","","",""],["","","Liyue","",""]],ve=[[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null]],be={initialMap:de,initialStones:fe,initialPlants:he,initialSoil:ge,initialPlaces:me,initialActivity:ve};s["a"].use(l["a"]);var _e=new l["a"].Store({state:{map:be.initialMap,stones:be.initialStones,plants:be.initialPlants,soil:be.initialSoil,places:be.initialPlaces,activity:be.initialActivity}}),ye={map:function(){return _e.state.map},stones:function(){return _e.state.stones},plants:function(){return _e.state.plants},soil:function(){return _e.state.soil},places:function(){return _e.state.places},activity:function(){return _e.state.activity},setActivityAt:function(e,t,n,i){s["a"].set(_e.state.activity[e],t,{activity:i,disciple:n})},removeActivityAt:function(e,t){s["a"].set(_e.state.activity[e],t,null)},removePlantsAt:function(e,t){s["a"].set(_e.state.plants[e],t,0)}},we={startActivity:function(e,t,n,s){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;console.log("startActivity(".concat(e,", ").concat(t,", ").concat(n,", ").concat(s,")")),n.hasJob()&&this.removeWorkerAt(n.activity.row,n.activity.cell),n.setJob(e,t,s,i),ye.setActivityAt(e,t,n,s)},hasWorker:function(e,t){return e&&null!=ye.activity()[e][t]},getWorker:function(e,t){return ye.activity()[e][t].disciple},removeWorkerAt:function(e,t){var n=ye.activity()[e][t];ye.removeActivityAt(e,t),n.disciple.removeJob()}},Oe={props:["row","cell"],components:{DiscipleProfile:W,Herb:pe},data:function(){return{stage:1,chosenDisciple:{},orderedDisciples:[]}},computed:{herbs:function(){return d.getHerbs()}},mounted:function(){this.orderDisciples()},methods:{orderDisciples:function(){this.orderedDisciples=d.orderedDisciples()},chooseDisciple:function(e){this.chosenDisciple=e,this.stage=2},chooseHerb:function(e){we.startActivity(this.row,this.cell,this.chosenDisciple,H.HERBS,e),d.consumeHerb(e),this.close()},getHerb:function(e){return d.getHerb(e)},close:function(){this.$emit("close")}}},Se=Oe,xe=Object(g["a"])(Se,z,K,!1,null,null,null),ke=xe.exports;s["a"].use(l["a"]);var Ce=0,Ee=1,Me=2,Pe=3,He=4,De=new l["a"].Store({state:{showModal:Ce}}),Ae={MINE_STONES_MODAL:Ee,GATHER_PLANTS_MODAL:Me,FARM_HERBS_MODAL:Pe,CHOOSE_HERB_MODAL:He,show:function(e){De.state.showModal=e},is:function(e){return De.state.showModal===e},showing:function(){return De.state.showModal!==Ce},close:function(){De.state.showModal=Ce},activity:function(){switch(De.state.showModal){case Ee:return H.STONES;case Me:return H.PLANTS;case Pe:case He:return H.HERBS;default:return}}},Te={components:{DiscipleProfile:W,FarmHerbs:ke},props:["selected"],data:function(){return{orderedDisciples:[]}},computed:{isShowingStonesModal:function(){return console.log("is-showing-stones-modal"),Ae.is(Ae.MINE_STONES_MODAL)},isShowingPlantsModal:function(){return Ae.is(Ae.GATHER_PLANTS_MODAL)},isShowingHerbsModal:function(){return Ae.is(Ae.FARM_HERBS_MODAL)},isShowingModal:function(){return Ae.showing()}},mounted:function(){this.orderDisciples()},methods:{orderDisciples:function(){console.log("order-disciples"),this.orderedDisciples=d.orderedDisciples()},sendWorker:function(e){this.isShowingHerbsModal?Ae.show(Ae.CHOOSE_HERB_MODAL):we.startActivity(this.selected.rowIndex,this.selected.cellIndex,e,Ae.activity()),this.orderDisciples(),this.close()},close:function(){Ae.close()}}},Re=Te,Ie=Object(g["a"])(Re,Q,Z,!1,null,null,null),je=Ie.exports,$e={props:["selected"],components:{DiscipleProfile:W,AssignWorkerModals:je},computed:{getLabel:function(){return this.selected.type+(""!==this.selected.placename?" - "+this.selected.placename:"")},hasStones:function(){return 1===this.selected.stones},hasPlants:function(){return 1===this.selected.plants},hasSoil:function(){return 1===this.selected.soil},hasWorker:function(){return we.hasWorker(this.selected.rowIndex,this.selected.cellIndex)},getWorker:function(){return we.getWorker(this.selected.rowIndex,this.selected.cellIndex)},isMortalTerritory:function(){return"city"===this.selected.type||"farm"===this.selected.type},hasHerbs:function(){return d.hasHerbs()},hasModal:function(){return Ae.showing()}},methods:{mineStones:function(){Ae.show(Ae.MINE_STONES_MODAL)},gatherPlants:function(){Ae.show(Ae.GATHER_PLANTS_MODAL)},plantHerbs:function(){Ae.show(Ae.FARM_HERBS_MODAL)},removeWorker:function(){console.log("CellDetails#removeWorker"),we.removeWorkerAt(this.selected.rowIndex,this.selected.cellIndex)}}},Le=$e,Ne=Object(g["a"])(Le,Y,X,!1,null,null,null),Fe=Ne.exports,We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"cell_outer"},["grass"===e.cell?n("img",{staticClass:"cell grass",attrs:{src:"svg/grass.png"}}):"forest"===e.cell?n("img",{staticClass:"cell forest",attrs:{src:"svg/trees.png"}}):"hill"===e.cell?n("img",{staticClass:"cell hill",attrs:{src:"svg/hills.png"}}):"lake"===e.cell?n("img",{staticClass:"cell lake",attrs:{src:"svg/lake.png"}}):"mountain"===e.cell?n("img",{staticClass:"cell mountain",attrs:{src:"svg/mountains2.png"}}):"farm"===e.cell?n("img",{staticClass:"cell farm",attrs:{src:"svg/farm.png"}}):"city"===e.cell?n("img",{staticClass:"cell city",attrs:{src:"svg/city.png"}}):e._e(),n("span",{class:["overlay",e.selected.rowIndex===e.rindex&&e.selected.cellIndex===e.cindex?"selected":""],on:{click:function(t){return e.$emit("select",{rindex:e.rindex,cindex:e.cindex})}}},[1===e.stones[e.rindex][e.cindex]?n("span",{staticClass:"sstone"},[n("img",{attrs:{src:"svg/stone.png"}})]):e._e(),1===e.plants[e.rindex][e.cindex]?n("span",{staticClass:"plants"},[n("img",{attrs:{src:"svg/herb.PNG"}})]):e._e(),1===e.soil[e.rindex][e.cindex]?n("span",{staticClass:"soil"},[n("img",{attrs:{src:"svg/farm.png"}})]):e._e(),""!==e.places[e.rindex][e.cindex]?n("span",{staticClass:"placename"},[e._v(e._s(e.places[e.rindex][e.cindex]))]):e._e(),null!=e.activity[e.rindex][e.cindex]?n("span",{staticClass:"worker"},[n("img",{attrs:{src:"images/"+e.activity[e.rindex][e.cindex].disciple.image}})]):e._e()])])},Je=[],Ge={props:["cell","selected","rindex","cindex"],computed:{stones:function(){return ye.stones()},plants:function(){return ye.plants()},soil:function(){return ye.soil()},places:function(){return ye.places()},activity:function(){return ye.activity()}}},Ue=Ge,Be=Object(g["a"])(Ue,We,Je,!1,null,null,null),qe=Be.exports,Ve={components:{CellDetails:Fe,Cell:qe},data:function(){return{selected:{}}},computed:{map:function(){return ye.map()}},mounted:function(){this.select({rindex:1,cindex:2})},methods:{select:function(e){var t=e.rindex,n=e.cindex;this.selected={type:this.map[t][n],stones:ye.stones()[t][n],plants:ye.plants()[t][n],soil:ye.soil()[t][n],placename:ye.places()[t][n],rowIndex:t,cellIndex:n}}}},Ye=Ve,Xe=Object(g["a"])(Ye,q,V,!1,null,null,null),Qe=Xe.exports,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page brown"},[n("heading"),n("message",[e._v("From a sea of clouds rises a mountain paradise")]),n("message",[e._v("Fame: "),n("strong",[e._v(e._s(e.fame))])]),n("message",[e._v("Stones: "),n("strong",[e._v(e._s(e.stones))])]),n("message",[n("img-btn",{attrs:{src:"svg/map.png",label:"Map"},nativeOn:{click:function(t){return e.$emit("changePage","ResourceMap")}}}),n("img-btn",{attrs:{src:"svg/stone.png",label:"Resources"},nativeOn:{click:function(t){return e.$emit("changePage","Resources")}}}),n("img-btn",{attrs:{src:"svg/herb.PNG",label:"Herbery"},nativeOn:{click:function(t){return e.$emit("changePage","Herbery")}}})],1),n("h2",[e._v("Disciples:")]),n("span",{staticClass:"disciples"},e._l(e.disciples,(function(t,s){return n("DiscipleProfile",{key:s,attrs:{disciple:t,hoverable:!0},nativeOn:{click:function(n){return e.showDisciple(t)}}})})),1),n("button",{on:{click:e.endTurn}},[e._v("End Turn")]),n("button",{on:{click:e.promote}},[e._v("Promote teachings")]),n("button",[e._v("Cultivate")]),n("button",[e._v("Seek Enlightenment")]),n("button",[e._v("Develop techniques")]),n("button",[e._v("Travel")])],1)},ze=[];s["a"].use(l["a"]);var Ke=new l["a"].Store({state:{viewDisciple:null}}),et={viewDisciple:function(){return Ke.state.viewDisciple},setViewDisciple:function(e){Ke.state.viewDisciple=e}};s["a"].use(l["a"]);var tt="recruit",nt="activities",st="report",it="finished",rt=new l["a"].Store({state:{turnOver:!1,stage:it,report:{}}}),at={RECRUIT:tt,ACTIVITIES:nt,REPORT:st,FINISHED:it,isTurnOver:function(){return rt.state.turnOver},stage:function(){return rt.state.stage},report:function(){return rt.state.report},turnOver:function(){rt.state.turnOver=!0,rt.state.stage=tt},newTurn:function(){rt.state.turnOver=!1,this.clearReport()},nextStage:function(){rt.state.stage===tt?rt.state.stage=nt:rt.state.stage===nt?rt.state.stage=st:rt.state.stage=it},clearReport:function(){window.console.log("clear report"),rt.state.report={}},addReport:function(e,t,n){var s=rt.state.report;s[e]?(s[e].diff=s[e].diff+t,s[e].total=n):s[e]={diff:t,total:n},console.log("report item: "+e),console.log(s[e])}},ot=(n("159b"),{processEndTurn:function(){var e=at.stage();if(e===at.RECRUIT){at.nextStage();var t=this.recruitFollowers();return t?at.RECRUIT:this.processEndTurn()}return e===at.ACTIVITIES?(at.nextStage(),this.performActivities(),this.processEndTurn()):e===at.REPORT?at.REPORT:at.FINISHED},recruitFollowers:function(){var e=Math.floor(20*Math.random());return e<d.fame()},performActivities:function(){var e=this;d.disciples().forEach((function(t){t.activity&&(t.activity.activity===H.STONES?e.doMining(t):t.activity.activity===H.PLANTS?e.doGathering(t):t.activity.activity===H.HERBS&&e.doFarming(t))}))},doMining:function(e){var t=1;d.addStones(t),e.expUp("mining",1),at.addReport("mining",t,d.stones())},doGathering:function(e){ye.removePlantsAt(e.activity.row,e.activity.cell),ye.removeActivityAt(e.activity.row,e.activity.cell),e.removeJob();var t=oe.acquireRandomHerb(),n=4;d.addHerbs(t,n),e.expUp("herbs",1),at.addReport("herb-"+t,n,d.herbs()[t])},doFarming:function(e){var t=Math.floor(2*Math.random())+2,n=e.activity.target;d.addHerbs(n,t),at.addReport("herb-"+n,t,d.getHerb(n)),e.expUp("herbs",1)}}),lt={components:{DiscipleProfile:W},computed:{fame:function(){return d.fame()},disciples:function(){return d.disciples()},stones:function(){return d.stones()}},mounted:function(){this.processEndTurn()},methods:{processEndTurn:function(){if(at.isTurnOver()){var e=ot.processEndTurn();e===at.RECRUIT?this.$emit("changePage","NewFollower"):e===at.REPORT?this.$emit("changePage","EndTurnReport"):at.newTurn()}},endTurn:function(){at.turnOver(),this.processEndTurn()},promote:function(){at.turnOver(),this.$emit("changePage","Promote")},showDisciple:function(e){et.setViewDisciple(e),this.$emit("changePage","Disciple")}}},ct=lt,ut=Object(g["a"])(ct,Ze,ze,!1,null,null,null),pt=ut.exports,dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page yellow"},[n("heading"),n("message",[e._v("You step out into the world, ready to impart wisdom to the ignorant. Where will you go?")]),e.chosen?e._e():n("choices",[n("choice",{attrs:{name:"Liyue",blurb:"Town of about 5,000 people"},on:{click:function(t){return e.choose("Liyue")}}})],1),e.chosen?[n("h2",[e._v("Success!")]),n("message",[e._v("The people of "+e._s(e.destination)+" listen rapt to your message.")]),n("message",[e._v("Fame: "),n("strong",[e._v("+"+e._s(e.fameUp))]),e._v(" >> "+e._s(e.fame))]),n("button",{on:{click:e.goBack}},[e._v("Continue")])]:e._e()],2)},ft=[],ht={data:function(){return{destination:"",fameUp:0}},computed:{chosen:function(){return""!==this.destination},fame:function(){return d.fame()}},methods:{choose:function(e){this.destination=e,this.fameUp+=Math.floor(3*Math.random())+2,d.fameUp(this.fameUp)},goBack:function(){this.$emit("changePage","Mountain")}}},gt=ht,mt=Object(g["a"])(gt,dt,ft,!1,null,null,null),vt=mt.exports,bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page yellow"},[n("heading"),n("message",[n("span",{staticStyle:{display:"inline-block"}},[n("DiscipleProfile",{attrs:{disciple:e.disciple}})],1),n("span",{staticStyle:{display:"inline-block"}},[n("p",[e._v("Gender: "+e._s(e.disciple.gender))]),e.isMining?n("p",[e._v("Currently mining for spirit stones")]):e._e(),n("p",[e._v("Mining exp: "+e._s(e.disciple.exp.mining))]),n("p",[e._v("Herb exp: "+e._s(e.disciple.exp.herbs))])])]),n("div",{staticClass:"buttons"},[n("img-btn",{attrs:{src:"svg/mountains.png",label:"Hall"},nativeOn:{click:function(t){return e.$emit("changePage","Mountain")}}})],1)],1)},_t=[],yt={components:{DiscipleProfile:W},computed:{disciple:function(){return et.viewDisciple()},isMining:function(){return this.disciple.isMining()}}},wt=yt,Ot=Object(g["a"])(wt,bt,_t,!1,null,null,null),St=Ot.exports,xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page brown"},[n("heading"),n("message",[e._v("Fame: "),n("strong",[e._v(e._s(e.fame))])]),n("message",[e._v("Stones: "),n("strong",[e._v(e._s(e.stones))])]),n("div",{staticClass:"buttons"},[n("img-btn",{attrs:{src:"svg/mountains.png",label:"Hall"},nativeOn:{click:function(t){return e.$emit("changePage","Mountain")}}})],1)],1)},kt=[],Ct={computed:{fame:function(){return d.fame()},stones:function(){return d.stones()}}},Et=Ct,Mt=Object(g["a"])(Et,xt,kt,!1,null,null,null),Pt=Mt.exports,Ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page green"},[n("heading"),e._l(Object.keys(e.herbs),(function(t,s){return n("Herb",{key:s,attrs:{herb:t,quantity:e.herbs[t]},nativeOn:{click:function(n){e.selectedHerb=t}}})})),n("div",{staticClass:"buttons"},[n("img-btn",{attrs:{src:"svg/mountains.png",label:"Hall"},nativeOn:{click:function(t){return e.$emit("changePage","Mountain")}}})],1),e.selectedHerb?n("modal",[n("div",{staticClass:"herb-description"},[n("label",[e._v(e._s(e.selectedHerb))]),n("img",{attrs:{src:e.image(e.selectedHerb)}}),n("message",[e._v(e._s(e.description(e.selectedHerb)))]),n("button",{on:{click:function(t){e.selectedHerb=""}}},[e._v("Close")])],1)]):e._e()],2)},Dt=[],At={components:{Herb:pe},data:function(){return{selectedHerb:""}},computed:{herbs:function(){return d.herbs()}},methods:{image:function(e){return oe.getImage(e)},description:function(e){return oe.getDescription(e)}}},Tt=At,Rt=Object(g["a"])(Tt,Ht,Dt,!1,null,null,null),It=Rt.exports,jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page brown"},[n("heading"),e.report.mining?n("message",[e._v(" Mined "),n("strong",[e._v(e._s(e.report.mining.diff))]),e._v(" spirit stones. Total: "),n("strong",[e._v(e._s(e.report.mining.total))]),e._v(". ")]):e._e(),e._l(e.herbs,(function(t,s){return n("message",{key:s},[e._v(" Harvested "),n("strong",[e._v(e._s(e.report[t].diff))]),e._v(" "+e._s(t.substring(5))+" herbs. Total: "),n("strong",[e._v(e._s(e.report[t].total))]),e._v(". ")])})),n("button",{on:{click:e.btnContinue}},[e._v("Continue")])],2)},$t=[],Lt=(n("4de4"),n("b64b"),n("2ca0"),{computed:{report:function(){return at.report()},herbs:function(){return Object.keys(this.report).filter((function(e){return e.startsWith("herb")}))}},methods:{btnContinue:function(){at.nextStage(),this.$emit("changePage","Mountain")}}}),Nt=Lt,Ft=Object(g["a"])(Nt,jt,$t,!1,null,null,null),Wt=Ft.exports,Jt="Inspiration",Gt={name:"App",components:{Inspiration:v,NewFollower:B,ResourceMap:Qe,Mountain:pt,Promote:vt,Disciple:St,Resources:Pt,Herbery:It,EndTurnReport:Wt},data:function(){return{page:Jt}},methods:{changePage:function(e){this.page=e}}},Ut=Gt,Bt=(n("5c0b"),Object(g["a"])(Ut,i,r,!1,null,null,null)),qt=Bt.exports,Vt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Yt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[n("span",{staticClass:"clouds"},[n("span",{staticClass:"cloud1"}),n("span",{staticClass:"cloud2"}),n("span",{staticClass:"cloud3"})]),e._v(" Heavensworld ")])}],Xt={},Qt=Object(g["a"])(Xt,Vt,Yt,!1,null,null,null),Zt=Qt.exports,zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"message-box"},[e._t("default")],2)},Kt=[],en={},tn=Object(g["a"])(en,zt,Kt,!1,null,null,null),nn=tn.exports,sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"choice"},[e._t("default")],2)},rn=[],an={},on=Object(g["a"])(an,sn,rn,!1,null,null,null),ln=on.exports,cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"button",on:{click:function(t){return e.$emit("click")}}},[n("label",[e._v(e._s(e.name))]),n("span",[e._v(e._s(e.blurb))])])},un=[],pn={props:["name","blurb"]},dn=pn,fn=Object(g["a"])(dn,cn,un,!1,null,null,null),hn=fn.exports,gn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"matte"},[n("div",{staticClass:"modal"},[e._t("default")],2)])},mn=[],vn={},bn=Object(g["a"])(vn,gn,mn,!1,null,null,null),_n=bn.exports,yn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"img-btn"},[n("img",{attrs:{src:e.src}}),n("label",[e._v(e._s(e.label))])])},wn=[],On={props:["src","label"]},Sn=On,xn=Object(g["a"])(Sn,yn,wn,!1,null,null,null),kn=xn.exports;s["a"].config.productionTip=!1,s["a"].component("heading",Zt),s["a"].component("message",nn),s["a"].component("choices",ln),s["a"].component("choice",hn),s["a"].component("modal",_n),s["a"].component("img-btn",kn),new s["a"]({render:function(e){return e(qt)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"9c0c":function(e,t,n){}});
//# sourceMappingURL=app.8b090e62.js.map